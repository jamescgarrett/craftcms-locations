!function e(t,o,n){function i(a,s){if(!o[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(r)return r(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var d=o[a]={exports:{}};t[a][0].call(d.exports,function(e){var o=t[a][1][e];return i(o?o:e)},d,d.exports,e,t,o,n)}return o[a].exports}for(var r="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},r=e("./utils/Utils"),a=n(r),s=e("./utils/ApiUtils"),l=n(s),c=e("./utils/GoogleMapsUtils"),d=n(c);!function(e){var t=function(){o.call(this),this.geocoder=new google.maps.Geocoder,this.data=[],this.locations=[],this.settings=null,this.filteredLocations=[];var e={data:null,formElement:".locations-searchForm",searchInput:".locations-searchForm-search",radiusInput:".locations-searchForm-radius",resultsElement:".locations-results",locationElement:".locations-results-result",errorsElement:".locations-searchForm-errors",loadingElement:".locations-loading",loadingHtml:"LOADING"};arguments[0]&&"object"===i(arguments[0])&&(this.options=a["default"].extend(e,arguments[0])),n.call(this)},o=function(){this.options&&(document.removeEventListener("submit",r,!1),this.options=null)},n=function(e){document.querySelector(this.options.formElement).addEventListener("submit",r.bind(this),!1),document.querySelector(this.options.loadingElement).innerHTML=this.options.loadingHtml;var t=this;l["default"].loadData(this.options.data,function(e){t.locations=e.locations,t.settings=e.settings,t.geocoder=new google.maps.Geocoder,s.call(t)})},r=function(e){var t=document.querySelector(this.options.searchInput),o=document.querySelector(this.options.radiusInput);""===t.value?u.call(this,"empty"):a["default"].validate("zip",t.value)?c.call(this,t.value,o.value):u.call(this,"format"),e.preventDefault()},s=function(){var e=this;d["default"].findCurrentLocation(this.geocoder,this.settings,this.locations,function(t){for(var o=0;o<t.length;o++)e.filteredLocations.push(e.locations[t[o]]);h.call(e),document.querySelector(e.options.loadingElement).innerHTML=""})},c=function(e,t){var o;o=""===t?this.settings.defaultRadius:t,this.filteredLocations.length=0,document.querySelector(this.options.resultsElement).innerHTML="";var n=this;d["default"].findLocation(this.geocoder,e,o,this.locations,function(e){for(var t=0;t<e.length;t++)n.filteredLocations.push(n.locations[e[t]]);h.call(n)})},u=function(e){switch(""!==document.querySelector(this.options.errorsElement).innerHTML&&(document.querySelector(this.options.errorsElement).innerHTML=""),e){case"empty":var t="<p>You must enter a zip code.</p>";break;case"format":var t="<p>Your zip code doesn't seem correct... Please check it again.</p>";break;default:alert("Something bad happened!")}document.querySelector(this.options.errorsElement).innerHTML=t},h=function(){""!==document.querySelector(this.options.errorsElement).innerHTML&&(document.querySelector(this.options.errorsElement).innerHTML="");var e=document.querySelector(this.options.resultsElement);this.filteredLocations.length<1&&(e.innerHTML="<p>"+this.settings.notFoundText+"</p>");for(var t=0;t<this.filteredLocations.length;t++){var o=document.createElement("div");o.className=this.options.locationElement;var n=document.createElement("p"),i=document.createElement("strong"),r=document.createElement("br"),a=document.createElement("br"),s=document.createElement("br"),l=document.createElement("br"),c=document.createElement("a");c.href="http://maps.google.com/?q="+this.filteredLocations[t].address1+" "+this.filteredLocations[t].city+" "+this.filteredLocations[t].state+" "+this.filteredLocations[t].zipCode,c.target="_blank";var d=document.createElement("a");d.href=this.filteredLocations[t].website,d.target="_blank";var u=document.createTextNode(this.filteredLocations[t].name),h=document.createTextNode(this.filteredLocations[t].address1),p=null;""!==this.filteredLocations[t].address2&&(p=document.createTextNode(this.filteredLocations[t].address2));var f=document.createTextNode(this.filteredLocations[t].city+", "),m=document.createTextNode(this.filteredLocations[t].state+" "),g=document.createTextNode(this.filteredLocations[t].zipCode),L=null,v=null;""!==this.filteredLocations[t].phone&&(L=document.createTextNode(this.filteredLocations[t].phone)),""!==this.filteredLocations[t].website&&(v=document.createTextNode(this.filteredLocations[t].website)),o.appendChild(n),n.appendChild(i),i.appendChild(u),n.appendChild(r),n.appendChild(c),c.appendChild(h),null!==p&&(c.appendChild(lbreak),c.appendChild(p)),c.appendChild(a),c.appendChild(f),c.appendChild(m),c.appendChild(g),null!==L&&(n.appendChild(s),n.appendChild(L)),null!==v&&(n.appendChild(l),n.appendChild(d),d.appendChild(v)),e.appendChild(o)}};e.LocationLocator=t}(window)},{"./utils/ApiUtils":2,"./utils/GoogleMapsUtils":3,"./utils/Utils":4}],2:[function(e,t,o){"use strict";var n={};n.loadData=function(e,t){var o=new Request(e,{method:"GET",headers:new Headers({"Content-Type":"application/json"})});fetch(o).then(function(e){return e.json()}).then(function(e){t(e)})["catch"](function(e){throw new Error(e)})},t.exports=n},{}],3:[function(e,t,o){"use strict";var n={};n.findCurrentLocation=function(e,t,o,n){navigator.geolocation&&"0"!==t.useGeoLocation?navigator.geolocation.getCurrentPosition(function(e){var r=new google.maps.LatLng(e.coords.latitude,e.coords.longitude);n(i(r,parseInt(t.defaultRadius),o))}):e.geocode({address:t.defaultZip},function(e,r){switch(r){case google.maps.GeocoderStatus.OVER_QUERY_LIMIT:alert("The daily query limit has been reached. Sorry. Try again Tomorrow!");break;case google.maps.GeocoderStatus.OK:n(i(e[0].geometry.location,parseInt(t.defaultRadius),o));break;case google.maps.GeocoderStatus.ZERO_RESULTS:alert("Address Can't be Found!");break;default:alert("Geocode error:"+r)}})},n.findLocation=function(e,t,o,n,r){e.geocode({address:t},function(e,t){switch(t){case google.maps.GeocoderStatus.OVER_QUERY_LIMIT:alert("The daily query limit has been reached. Sorry. Try again Tomorrow!");break;case google.maps.GeocoderStatus.OK:r(i(e[0].geometry.location,o,n));break;case google.maps.GeocoderStatus.ZERO_RESULTS:alert("Address Can't be Found!");break;default:alert("Geocode error:"+t)}})};var i=function(e,t,o){for(var n=e.lat(),i=e.lng(),a=[],s=0;s<o.length;s++){var l=o[s].latitude,c=o[s].longitude,d=3959*Math.acos(Math.cos(r(n))*Math.cos(r(l))*Math.cos(r(c)-r(i))+Math.sin(r(n))*Math.sin(r(l)));t>d&&a.push(s)}return a},r=function(e){return e*Math.PI/180};t.exports=n},{}],4:[function(e,t,o){"use strict";var n={};n.extend=function(e,t){var o;for(o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);return e},n.validate=function(e,t){switch(e){case"zip":if(/^[0-9]{5}(?:-[0-9]{4})?$/.test(t)||/[a-zA-Z][0-9][a-zA-Z](-| |)[0-9][a-zA-Z][0-9]/.test(t))return!0;break;default:alert("Something bad happened!")}return!1},t.exports=n},{}]},{},[1]);
//# sourceMappingURL=locations.js.map
